<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>内置对象练习1</title>
    <style>
        div{
            width: 200px;
            height: 200px;
            background-color: pink;
        }
    </style>
    <!-- 引入公共js文件，包括获取指定格式时间函数 -->
    <script src="common.js"></script>
     <script>
    //  内置对象练习

/*     // 仿制math对象求最大值
    // 构造函数math
        function MyMath(){
            this.getMax = function(){
                var max = arguments[0];
                for(var i = 0;i<arguments.length;i++){
                    if(max<arguments[i]){
                        max = arguments[i];
                    }// end if
                }// end for
                return max;
            };
        }
    // 测试
        var mm = new MyMath();
        var max = mm.getMax(5,6,3,7,2);
        console.log(max);
 */
/*  
    // 随机产生一个16进制的颜色值
    function getColor(){
        var arr = ["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];
        var color = "#";
        for(var i = 0;i<6;i++){
            color += arr[parseInt(Math.random()*16)];
        }// end for
        return color;
    }
    window.onload = function(){
        document.getElementById("dv").style.backgroundColor=getColor();
    };
 */
/*  
    // 测试获取一个指定格式时间的函数
        console.log(getDate(new Date()));
 */
/* 
    //  想办法把一个字符串13579先变成Array——[1, 3, 5, 7, 9]，再利用reduce()就可以写出一个把字符串转换为Number的函数。
    // 练习：不要使用JavaScript内置的parseInt()函数，利用map和reduce操作实现一个string2int()函数：
        // var str = "13579";
        function string2int(str){
            var strArray = str.split("");
            var numArray = strArray.map(function(a){
                return a*1;
            });
            var int = numArray.reduce(function(a,b){
                return a*10+b;
            });
            return int;
        }
    // 测试
        var result = string2int("13579");
        console.log(typeof(result));
        console.log(result);
    // 测试:
        if (string2int('0') === 0 && string2int('12345') === 12345 && string2int('12300') === 12300) {
            if (string2int.toString().indexOf('parseInt') !== -1) {
                console.log('请勿使用parseInt()!');
            } else if (string2int.toString().indexOf('Number') !== -1) {
                console.log('请勿使用Number()!');
            } else {
                console.log('测试通过!');
            }
        }
        else {
            console.log('测试失败!');
        }
 */
/* 
    // 将一个字符串数组输出为|分割形式“你好|吃了吗|听得见吗”  使用两种方法实现
        var strArr = ["你好","吃了吗","听得见吗"]
        // 方法1for循环遍历
        for(var i = 1,newStr=strArr[0];i<strArr.length;i++){
                newStr += "|"+strArr[i];
        }// end for
        console.log(newStr);
        //方法2 内置对象方法 arr.jion
        console.log(strArr.join("|")); 
        // 方法3 内置对象方法 arr.toString + str.replace + 正则表达式
        console.log(strArr.toString().replace(/,/g,"|"));
 */
/* 
    //将一个字符串数组的元素顺序进行反转["a","b","c","d"]-->["d","c","b","a"] i与lenght-i-1进行交换  使用两种方法实现
        var testArr = ["a","b","c","d"];
        // 方法1 for循环
        for(var i=0,temp;i<testArr.length/2;i++){
            temp = testArr[i];
            testArr[i] = testArr[testArr.length-1-i];
            testArr[testArr.length-1-i] = temp;
        }
        console.log(testArr);
        // 方法2 arr.reverse
        console.log(testArr.reverse());
 */
/* 
    // 一个工资数组[2000,1500,1200,2100,1800],将其中超过2000的删除
    // arr.filter 方法返回一个全部通过制定函数测试的新数组
        var testArr = [2000,1500,1200,2100,1800];
        console.log(testArr.filter(function(a){
            return a<=2000;
        }));
 */
/* 
    // ["c","a","z","a","x","a"]找到数组中的每一个a出现的位置
        var testArr = ["c","a","z","a","x","a"];
        // 方法1 
        // var index = 0;
        // while(testArr.indexOf("a",index)!=-1){
        //     console.log(testArr.indexOf("a",index));
        //     index = testArr.indexOf("a",index)+1;
        // }
        // 方法2
        var index = testArr.indexOf("a");
        while(index!=-1){
            console.log(index);
            index = testArr.indexOf("a",index+1);
        }
 */

    // 编写一个方法去掉一个数组中的重复元素
        function MyArray(){
            this.deDuplication = function(arr){
                // for循环方式
                var checkArr = [];      /* 用来存放唯一的元素值 */
                for(var i =0;i<arr.length;i++){
                    if(arr[i] in checkArr){
                        arr.splice(i,1);
                        i--;    /* 如果没有这一步就会跳过部分元素 */
                    }else{
                        checkArr.push(arr[i]);
                    }
                }
                // while循环方式
                // var i = 0;
                // while(i < arr.length){
                //     if(arr[i] in checkArr){
                //         arr.splice(i,1);
                //     }else{
                //         checkArr.push(arr[i]);
                //         i++;
                //     }
                // }
                // console.log(checkArr);
                return arr;
            };
        }
    // 测试
        var testFu = new MyArray();
        console.log(testFu.deDuplication([1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9]));
        
     </script>
</head>
<body>
    <div id="dv" ></div>
</body>
</html>